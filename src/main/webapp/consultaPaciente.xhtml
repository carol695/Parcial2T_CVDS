<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:p="http://primefaces.org/ui">

    <h:head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Consultas</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <style type="text/css">
          .inputs {
          display: flex;
          margin-bottom: 10px;
          }
          .boton_consulta {
          margin-bottom: 10px;
          }
          .tabla {
          width: 35%;
          }
        </style>
    </h:head>

    <h:body>
        <h1>CONSULTAR PACIENTES</h1>
        <h:form id="form_pacientes">
            <div class="inputs">
                <!--Por favor no cambiar el 'id':-->
                <p:inputText id="identificacion_paciente" value="#{id}" placeholder="Id Paciente"></p:inputText>
                <p:selectOneMenu value="#{mb.tipoIdentificacion}" >
                    <f:selectItems value="#{mb.tiposIdentificacion}" />
                </p:selectOneMenu>
            </div>

            <div class="boton_consulta">
                <!--Por favor no cambiar el 'value':-->
                <p:commandButton value="Consultar" update="form_pacientes" ></p:commandButton>
            </div>

           <div class="datos">
               <p:outputLabel value="Nombre: #{mb.getPacienteForName(id,mb.tipoIdentificacion).nombre} "> </p:outputLabel>
               <br></br>
               <p:outputLabel value="Fecha Nacimiento: #{mb.getPacienteForName(id,mb.tipoIdentificacion).fechaNacimiento} "></p:outputLabel>
           </div>

            <div class="tabla">
                <p:dataTable var="consulta" value="#{mb.getPacienteForName(id,mb.getTipoIdentificacion()).getConsultas()}">

                    <p:column headerText="Resumen">
                        <h:outputText value="#{consulta.resumen}" />
                    </p:column>

                    <p:column headerText="FechaHora">
                        <h:outputText value="#{consulta.fechayHora}" />
                    </p:column>

                </p:dataTable>
            </div>

        </h:form>
    </h:body>
</html>

